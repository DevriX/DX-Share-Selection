var lists=[];function getBaseUrl(s){return-1!=s.indexOf(".")&&-1!=s.indexOf("/")&&s.substr(0,s.indexOf("/",s.indexOf("."))+1)}lists.push(Array("Twitter","https://twitter.com/intent/tweet?text=%s {url}","favicon")),lists.push(Array("Facebook","https://www.facebook.com/sharer.php?u={url}&quote=%s","favicon")),lists.push(Array("Wikipedia (en)","https://en.wikipedia.org/w/index.php?title=Special:Search&search=%s","favicon")),lists.push(Array("Google Search","https://google.com/search?q=%s","favicon")),lists.push(Array("Google Maps","https://maps.google.com/?q=%s","favicon")),lists.push(Array("Email","mailto:?subject={title}&amp;body=%s - {url}","https://mail.google.com/favicon.ico")),lists.push(Array("Tumblr","https://www.tumblr.com/widgets/share/tool?url={url}&caption=%s","favicon")),$j=jQuery.noConflict(),$j(document).ready(function(){for($j("#colorpicker").hide(),$j(".message").append('<span class="close">x</span>'),$j(".message .close").on("click",function(){$j(this).parent().slideUp()}),i=0;i<lists.length;i++)img=null!=lists[i][2]?(iconUrl=lists[i][2].split(" ").join(""),"favicon"==iconUrl?'<img src="'+getBaseUrl(lists[i][1])+'favicon.ico" width="16" height="16" alt="'+lists[i][0]+'"/> ':'<img src="'+lists[i][2]+'" width="16" height="16" alt="'+lists[i][0]+'"/> '):"",$j("#addList").append('<button value="'+i+'" type="button" class="button" >'+img+lists[i][0]+"</button>");function s(s){$j(s).fadeIn().addClass("is-visible"),$j(".overlay").fadeIn().addClass("is-visible")}function t(){$j(".is-visible").fadeOut(),$j(".is-visible").removeClass("is-visible"),$j(".popup-input").val("")}$j("#addList button").on("click",function(){var s=lists[$j(this).val()],t=""===$j("#dxss_lists").val()?"":"\n",s=$j("#dxss_lists").val()+t+s;$j("#dxss_lists").val(s).change()}),$j("#addCustom").on("click",function(){s(".custom-button-window"),$j("#dxss_custom_name").focus()}),$j("#addSearch").on("click",function(){s(".search-button-window"),$j("#dxss_custom_name").focus()}),$j(".openWpsrLinks").on("click",function(){s(".wpsrBox"),$j("#dxss_list_search").focus()}),$j(".openHelp").on("click",function(){s(".helpWindow")}),$j(".add-custom-button").on("click",function(){$j("#dxss_custom_name").removeClass("error"),$j("#dxss_custom_url").removeClass("error"),customName=$j("#dxss_custom_name").val(),customUrl=$j("#dxss_custom_url").val(),customIcon=$j("#dxss_custom_icon").val();var s=!1;customName||($j("#dxss_custom_name").addClass("error"),s=!0),customUrl||($j("#dxss_custom_url").addClass("error"),s=!0),s||(customIcon=customIcon||"favicon",s=""===$j("#dxss_lists").val()?"":"\n",s=$j("#dxss_lists").val()+s+customName+","+customUrl+","+customIcon,$j("#dxss_lists").val(s).change(),t())}),$j(".add-search-button").on("click",function(){$j("#dxss_search_name").removeClass("error"),$j("#dxss_search_url").removeClass("error"),searchName=$j("#dxss_search_name").val(),searchUrl=$j("#dxss_search_url").val(),searchIcon=$j("#dxss_search_icon").val();var s=!1;searchName||($j("#dxss_search_name").addClass("error"),s=!0),searchUrl||($j("#dxss_search_url").addClass("error"),s=!0),s||(searchIcon=searchIcon||"favicon",s=""===$j("#dxss_lists").val()?"":"\n",s=$j("#dxss_lists").val()+s+searchName+","+searchUrl+","+searchIcon,$j("#dxss_lists").val(s).change(),t())}),$j(".overlay").on("click",function(s){$j(s.target).hasClass("overlay")&&t()}),$j(".close").on("click",function(){t()});var o=$j.farbtastic("#colorpicker");function e(){listVal=$j("#dxss_lists").val(),listsFinal=listVal.split("\n").join("|"),$j(".test-preview").empty(),$j(".test-preview").append('<div class="append-here"></div>'),$j(".append-here").selectedTextSharer({title:$j("#dxss_title").val(),lists:listsFinal,truncateChars:$j("#dxss_truncateChars").val(),extraClass:$j("#dxss_extraClass").val(),borderColor:$j("#dxss_borderColor").val(),background:$j("#dxss_bgColor").val(),titleColor:$j("#dxss_titleColor").val(),titleTextColor:$j("#dxss_titleTextColor").val(),hoverColor:$j("#dxss_hoverColor").val(),textColor:$j("#dxss_textColor").val()}),$j(".append-here").append($j(".stsBox")),$j(".stsBox a").on("click",s=>s.preventDefault())}$j(".color").each(function(){o.linkTo(this)}).focus(function(){o.linkTo(this)}),$j(".color").on("focus",function(){setTimeout(function(){"none"===$j("#colorpicker").css("display")?$j("#colorpicker").fadeIn():$j("#colorpicker").css("display","inline-block")},6)}),$j(".color").on("blur",function(){setTimeout(function(){$j(".color").is(":focus")||$j("#colorpicker").fadeOut()},5)}),$j("#dxss_list_search").keyup(function(s){var t=$j("#dxss_list_search").val(),o=new RegExp(t,"i");$j(".dxss_wpsr_sites li").each(function(){-1==$j.trim($j(this).text()).search(o)?$j(this).css("display","none"):$j(this).css("display","")})}),e(),$j(".dxss-settings").on("input change paste",e),$j(".dxss-restore-button").on("click",function(){setTimeout(e,40)}),$j(".farbtastic div").on("mousedown",function(){$j(document).one("mouseup",e)}),$j(".dxss_wpsr_sites a").on("click",function(){var s=""===$j("#dxss_lists").val()?"":"\n",s=$j("#dxss_lists").val()+s+$j(this).text()+","+$j(this).attr("rel")+",favicon";$j("#dxss_lists").val(s).change(),$j(this).after('<span class="addedInfo">  Added !</span>'),$j(".addedInfo").fadeOut("100")}),$j("#restore-customize").on("click",function(){var s=dx_share_selection.settings_data_default;$j("#dxss_borderColor").val(s.borderColor),$j("#dxss_bgColor").val(s.bgColor),$j("#dxss_titleColor").val(s.titleColor),$j("#dxss_hoverColor").val(s.hoverColor),$j("#dxss_textColor").val(s.textColor),$j("#dxss_titleTextColor").val(s.titleTextColor),$j("#dxss_extraClass").val(s.extraClass),$j(".color").each(function(){o.linkTo(this)}).focus(function(){o.linkTo(this)})}),$j("#restore-optional").on("click",function(){var s=dx_share_selection.settings_data_default;$j("#dxss_scriptPlace").val(s.scriptPlace),$j("#dxss_truncateChars").val(s.truncateChars),$j("#dxss_element").val(s.element),$j("input[name=dxss_bitly_token]").val(s.bitly)})}),String.prototype.replaceArray=function(s,t){for(var o,e=this,l=0;l<s.length;l++)o=new RegExp(s[l],"g"),e=e.replace(o,t[l]);return e};